<!--
   =========================================================
   * Argon Dashboard - v1.2.0
   =========================================================
   * Product Page: https://www.creative-tim.com/product/argon-dashboard
   
   
   * Copyright  Creative Tim (http://www.creative-tim.com)
   * Coded by www.creative-tim.com
   
   
   
   =========================================================
   * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
   -->
{%  load static %}
<!DOCTYPE html>
<html>
   <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
      <meta name="description" content="Start your development with a Dashboard for Bootstrap 4.">
      <meta name="author" content="Creative Tim">
      <title>Accueil</title>
      <!-- Favicon -->
      <link rel="icon" href="{% static 'assets/img/brand/favicon.png'%}" type="image/png">
      <!-- Fonts -->
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700">
      <!-- Icons -->
      <link rel="stylesheet" href="{% static 'assets/vendor/nucleo/css/nucleo.css'%}" type="text/css">
      <link rel="stylesheet" href="{% static 'assets/vendor/@fortawesome/fontawesome-free/css/all.min.css'%}">
      <!-- Page plugins -->
      <!-- Argon CSS -->
      <link rel="stylesheet" href="{% static 'assets/css/argon.css'%}" type="text/css">
   </head>
   <body>
      <!-- Sidenav -->
       <nav class="sidenav navbar navbar-vertical  fixed-left  navbar-expand-xs navbar-light bg-white" id="sidenav-main">
         <div class="scrollbar-inner">
            <!-- Brand -->
            <div class="sidenav-header  align-items-center">
               <a class="navbar-brand" href="https://www.figma.com/proto/Uxr7zMsCJDvOhhUIqDcbi2/Fenouil.io?node-id=6%3A0&scaling=min-zoom">
               <img src="{% static 'assets/img/brand/blue.png' %}" class="navbar-brand-img" alt="...">
               </a>
            </div>
            <div class="navbar-inner">
               <!-- Collapse -->
               <div class="collapse navbar-collapse" id="sidenav-collapse-main">
                  <!-- Nav items -->
                  <ul class="navbar-nav">
                     <li class="nav-item">
                        <a class="nav-link active" href="../">
                        <i class="ni ni-tv-2 text-primary"></i>
                        <span class="nav-link-text">Tableau de bord</span>
                        </a>
                     </li>
                     <li class="nav-item">
                        <a class="nav-link" href="../articles">
                        <i class="ni ni-book-bookmark text-orange"></i>
                        <span class="nav-link-text">Articles</span>
                        </a>
                     </li>
                     <li class="nav-item">
                        <a class="nav-link" href="../individu">
                        <i class="ni ni-single-02 text-yellow"></i>
                        <span class="nav-link-text">Individus</span>
                        </a>
                     </li>
                     <li class="nav-item">
                        <a class="nav-link" href="accounts/logout">
                        <i class="ni ni-key-25 text-info"></i>
                        <span class="nav-link-text">Logout</span>
                        </a>
                     </li>
                  </ul>
                  <!-- Divider -->
                  <hr class="my-3">
                  <!-- Heading -->
                  <h6 class="navbar-heading p-0 text-muted">
                     <span class="docs-normal">Outils</span>
                  </h6>
                  <!-- Navigation -->
                  <ul class="navbar-nav mb-md-3">
                    {% if 'Assistants de saisie' in liste_permissions or 'Administrateur de données' in liste_permissions or 'Super Utilisateur' in liste_permissions %}
                     <li class="nav-item">
                        <a class="nav-link" href="../creer_individu/">
                        <i class="ni ni-spaceship"></i>
                        <span class="nav-link-text">Cr&eacute;er un nouvel individu</span>
                        </a>
                     </li>
                     {% endif %}
                     {% if 'Prospection' in liste_permissions or 'Directeur de la Stratégie' in liste_permissions or 'Super Utilisateur' in liste_permissions %}
                     <li class="nav-item">
                        <a class="nav-link" href="../creer_cible_routage/1/">
                        <i class="ni ni-palette"></i>
                        <span class="nav-link-text">Cr&eacute;er une cible de routage</span>
                        </a>
                     </li>
                     {% endif %}
                     {% if 'Gestionnaire administratif' in liste_permissions or 'Super Utilisateur' in liste_permissions %}
                     <li class="nav-item">
                        <a class="nav-link" href="../liste_anomalies">
                        <i class="ni ni-ui-04"></i>
                        <span class="nav-link-text">Gestions anomalies</span>
                        </a>
                     </li>
                     {% endif %}
                     {% if 'Système d’édition' in liste_permissions or 'Super Utilisateur' in liste_permissions %}
                     <li class="nav-item">
                          <a href="#navbar-multilevel" class="nav-link" data-toggle="collapse" role="button" aria-expanded="false" aria-controls="navbar-multilevel"><i class="ni ni-send"></i>Envoyer une publicité</a>
                          <div class="collapse in" id="navbar-multilevel" style="">
                            <ul class="nav nav-sm flex-column">
                              <li class="nav-item">
                                <a href="../envoi_mail" class="nav-link ">Envoi par mail</a>
                              </li>
                              <li class="nav-item">
                                <a href="../envoi_SMS" class="nav-link ">Envoi par SMS</a>
                              </li>
                              <li class="nav-item">
                                <a href="../envoi_papier" class="nav-link ">Envoi par papier</a>
                              </li>
                            </ul>
                          </div>
                        </li>
                        {% endif %}
                        {% if 'Directeur de la Stratégie' in liste_permissions or 'Super Utilisateur' in liste_permissions %}
                     <li class="nav-item">
                        <a class="nav-link" href="../valider_cible_routage">
                        <i class="ni ni-check-bold"></i>
                        <span class="nav-link-text">Valider une cible de routage</span>
                        </a>
                     </li>
                     {% endif %}
                     {% if 'Assistants de saisie' in liste_permissions or 'Super Utilisateur' in liste_permissions %}
                     <li class="nav-item">
                        <a class="nav-link" href="../signaler_anomalie">
                        <i class="ni ni-notification-70"></i>
                        <span class="nav-link-text">Signaler une anomalie</span>
                        </a>
                     </li>
                     {% endif %}
                     {% if 'Gestionnaire administratif' in liste_permissions or 'Super Utilisateur' in liste_permissions %}
                     <li class="nav-item">
                        <a class="nav-link" href="../envoi_mail">
                        <i class="ni ni-email-83"></i>
                        <span class="nav-link-text">Envoyer un mail</span>
                        </a>
                     </li>
                     {% endif %}
                     {% if 'Assistants de saisie' in liste_permissions or 'Super Utilisateur' in liste_permissions %}
                      <li class="nav-item">
                        <a class="nav-link" href="../saisir_commande">
                        <i class="ni ni-cart"></i>
                        <span class="nav-link-text">Saisir une commande</span>
                        </a>
                     </li>
                     {% endif %}
                  </ul>
               </div>
            </div>
         </div>
      </nav>
      <!-- Main content -->
      <div class="main-content" id="panel">
      <!-- Topnav -->
      <nav class="navbar navbar-top navbar-expand navbar-dark bg-primary border-bottom">
         <div class="container-fluid">
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
               <!-- Search form -->
               <form class="navbar-search navbar-search-light form-inline mr-sm-3" id="navbar-search-main">
                  <div class="form-group mb-0">
                     <div class="input-group input-group-alternative input-group-merge">
                        <div class="input-group-prepend">
                           <span class="input-group-text"><i class="fas fa-search"></i></span>
                        </div>
                        <input class="form-control" placeholder="Search" type="text">
                     </div>
                  </div>
                  <button type="button" class="close" data-action="search-close" data-target="#navbar-search-main" aria-label="Close">
                  <span aria-hidden="true">×</span>
                  </button>
               </form>
               <!-- Navbar links -->
               <ul class="navbar-nav align-items-center  ml-md-auto ">
                  <li class="nav-item d-xl-none">
                     <!-- Sidenav toggler -->
                     <div class="pr-3 sidenav-toggler sidenav-toggler-dark" data-action="sidenav-pin" data-target="#sidenav-main">
                        <div class="sidenav-toggler-inner">
                           <i class="sidenav-toggler-line"></i>
                           <i class="sidenav-toggler-line"></i>
                           <i class="sidenav-toggler-line"></i>
                        </div>
                     </div>
                  </li>
                  <li class="nav-item d-sm-none">
                     <a class="nav-link" href="#" data-action="search-show" data-target="#navbar-search-main">
                     <i class="ni ni-zoom-split-in"></i>
                     </a>
                  </li>
               </ul>
               <ul class="navbar-nav align-items-center  ml-auto ml-md-0 ">
                  <li class="nav-item dropdown">
                     <a class="nav-link pr-0" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <div class="media align-items-center">
                           <span class="avatar avatar-sm rounded-circle">
                           <img alt="Image placeholder" src="{% static 'assets/img/theme/team-4.jpg' %}">
                           </span>
                           <div class="media-body  ml-2  d-none d-lg-block">
                              <span class="mb-0 text-sm  font-weight-bold">Quentin Chaignaud</span>
                           </div>
                        </div>
                     </a>
                     <div class="dropdown-menu  dropdown-menu-right ">
                        <div class="dropdown-header noti-title">
                           <h6 class="text-overflow m-0">Bienvenue !</h6>
                        </div>
                        <a href="profil" class="dropdown-item">
                        <i class="ni ni-support-16"></i>
                        <span>Demander de l'aide</span>
                        </a>
                        <div class="dropdown-divider"></div>
                        <a href="accounts/logout" class="dropdown-item">
                        <i class="ni ni-user-run"></i>
                        <span>Logout</span>
                        </a>
                     </div>
                  </li>
               </ul>
            </div>
         </div>
      </nav>
      <!-- Main content -->
      <div class="header bg-primary pb-6">
         <div class="container-fluid">
            <div class="header-body">
               <div class="row align-items-center py-4">
                  <div class="col-lg-6 col-7">
                     <h6 class="h2 text-white d-inline-block mb-0">Saisir une commande</h6>
                     <nav aria-label="breadcrumb" class="d-none d-md-inline-block ml-md-4">
                        <ol class="breadcrumb breadcrumb-links breadcrumb-dark">
                           <li class="breadcrumb-item"><a href="#"><i class="fas fa-home"></i></a></li>
                           <li class="breadcrumb-item">Outils</li>
                           <li class="breadcrumb-item active" aria-current="page">Saisir une commande</li>
                        </ol>
                     </nav>
                  </div>
               </div>
            </div>
         </div>
      </div>
      <!-- Page content -->
      <div class="container-fluid mt--6">
      <div class="row">
      <div class="col-lg-10">
         <div class="card">
          <form method="post" id="post">
                  {% csrf_token %}
            <div class="card-header bg-transparent">
               <h3 class="mb-0">Saisir une commande</h3>
               <button style="position: absolute; justify-content: center; right: 2vw;" class="btn btn-primary" type="submit">Saisir</button>
            </div>
            <div class="card-body">
               <!-- Input groups with icon -->
               
                  <div class="row">
                     <div class="col-md-6">
                        <div class="form-group">
                           <label class="form-control-label" for="example3cols1Input">Identification de l'individu :</label>
                           <select id="individu" name="individu" class="form-control" data-toggle="select">
                              {% for individu in individus %}
                              <option>{{ individu.prenom }} {{ individu.nom }}</option>
                              {% endfor %}
                           </select>
                        </div>
                     </div>
                     <div class="col-md-6">
                        <div class="form-group">
                           <label class="form-control-label" for="exampleFormControlSelect2">Ou si l'individu est introuvable :</label>
                           <a href="../creer_individu" target="blank">
                            <button type="button" class="btn btn-primary btn-lg btn-block" >Créer un individu</button>
                          </a>
                        </div>
                     </div>
                  </div>
                  <div class="row">
                     <div class="col-md-6">
                        <div class="form-group">
                           <label class="form-control-label" for="exampleFormControlSelect3" >Séléction d'article(s) :</label>
                           <select id="items" multiple="multiple" name="liste_article" multiple class="form-control" id="exampleFormControlSelect3" onchange="changeFunc()">
                              {% for item in items %}
                              <option>{{ item.titre }}</option>
                              {% endfor %}
                           </select>
                        </div>
                     </div>
                     <div class="col-md-6">
                        <div class="form-group" id="liste">
                           <label class="form-control-label" for="exampleFormControlSelect3" >Nombre de fois ou l'article à été acheté :</label>
                        </div>
                     </div>
                  </div>
                  <div class="row">
                     <div class="col-md-6">
                        <div class="form-group">
                           <label class="form-control-label" for="exampleFormControlSelect3" >Type de réglement :</label>
                             <select id="paiement" name="type_reglement" class="form-control" data-toggle="select" onchange="changeType();">
                                <option>Chèque</option>
                                <option>Carte bancaire</option>
                             </select>
                             <input name="compteur" id="compteur" style="display: none">
                        </div>
                     </div>
                     <div class="col-md-6">
                        <div class="form-group" id="liste">
                           <label class="form-control-label" for="exampleFormControlSelect3" >Montant :</label>
                           <input name="montant_commande" class="form-control" type="number" placeholder="en €" required>
                        </div>
                     </div>
                  </div>
                  <div class="row" id="conteneur-type">
                     <div class="col-md-6">
                        <div class="form-group">
                          <label id="num_label" class="form-control-label" for="exampleFormControlSelect3" >Numéro du chèque :</label>
                           <input name="num" class="form-control" type="number" required>
                        </div>
                     </div>
                     <div class="col-md-6">
                        <div class="form-group">
                          <label id="nom-date_label" class="form-control-label" for="exampleFormControlSelect3" >Nom de la banque émettrice :</label>
                           <input id="nom-date_value" name="nom-date_value" class="form-control" type="text" required>
                        </div>
                     </div>
                  </div>
                  <div class="row">
                     <div class="col-md-6">
                        <div class="form-group">
                          <label id="etat_label" class="form-control-label" for="exampleFormControlSelect3" >État du chèque :</label>
                          <select name="etat-valide" id="etat" class="form-control" data-toggle="select" onchange="changeType();">
                                <option id="valide">Signé</option>
                                <option id="pas-valide">Non signé</option>
                             </select>
                        </div>
                     </div>
                  </div>
               </form>
            </div>
         </div>
      </div>
      <!-- Argon Scripts -->
      <!-- Core -->
      <script src="{% static 'assets/vendor/jquery/dist/jquery.min.js'%}"></script>
      <script src="{% static 'assets/vendor/bootstrap/dist/js/bootstrap.bundle.min.js'%}"></script>
      <script src="{% static 'assets/vendor/js-cookie/js.cookie.js'%}"></script>
      <script src="{% static 'assets/vendor/jquery.scrollbar/jquery.scrollbar.min.js'%}"></script>
      <script src="{% static 'assets/vendor/jquery-scroll-lock/dist/jquery-scrollLock.min.js'%}"></script>
      <!-- Optional JS -->
      <script src="{% static 'assets/vendor/chart.js/dist/Chart.min.js'%}"></script>
      <script src="{% static 'assets/vendor/chart.js/dist/Chart.extension.js'%}"></script>
      <!-- Argon JS -->
      <script src="{% static 'assets/js/argon.js'%}"></script>
      <script>
         inc = 0
         function changeFunc(){
         
           inc++

           nombreClicks = inc;
 
          document.getElementById('compteur').setAttribute('value', nombreClicks);

           i = document.getElementById('items')
           l = document.getElementById('liste')
         
           var rowDiv = document.createElement("div");
           l.appendChild(rowDiv);
           rowDiv.classList.add("row");
         
           var textDiv = document.createElement("div");
           rowDiv.appendChild(textDiv);
           textDiv.classList.add("col-md-6");
         
           var inputDiv = document.createElement("div");
           rowDiv.appendChild(inputDiv);
           inputDiv.classList.add("col-md-5");
           
           var printText = document.createElement("div");
           textDiv.appendChild(printText)
           printText.appendChild(document.createTextNode(i.options[i.selectedIndex].text));

           var inputText = document.createElement("input");
           textDiv.appendChild(inputText)
           inputText.setAttribute('value', i.options[i.selectedIndex].text);
           inputText.setAttribute('name', 'item'+nombreClicks);
           inputText.style.display = 'none';
         
           var inputQuant = document.createElement("input");
           inputDiv.appendChild(inputQuant)
           inputQuant.classList.add("form-control");
           inputQuant.setAttribute('name', 'quantite'+inc);
           inputQuant.setAttribute('type', 'number');
           inputQuant.required = true;
         }

         function changeType(){
          if (document.getElementById('paiement').value == "Carte bancaire") {
            document.getElementById('num_label').textContent = 'Numéro de la carte bancaire :'
            document.getElementById('nom-date_label').textContent = 'Date d\'expiration de la carte :'
            document.getElementById('nom-date_value').setAttribute('placeholder', 'MM/AA');
            document.getElementById('nom-date_value').setAttribute('type', 'date');
            document.getElementById('etat_label').textContent = 'Validité de la carte bancaire :'
            document.getElementById('valide').textContent = 'Valide'
            document.getElementById('pas-valide').textContent = 'Non valide'
          }
          else {
            document.getElementById('num_label').textContent = 'Numéro du chèque :'
            document.getElementById('nom-date_label').textContent = 'Nom de la banque émettrice :'
            document.getElementById('nom-date_value').removeAttribute('placeholder');
            document.getElementById('nom-date_value').setAttribute('type', 'text');
            document.getElementById('etat_label').textContent = 'État du chèque :'
            document.getElementById('valide').textContent = 'Signé'
            document.getElementById('pas-valide').textContent = 'Non signé'
          }
        }
         
      </script>
   </body>
</html>